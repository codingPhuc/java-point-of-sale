<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="_csrf" th:content="${_csrf.token}" />
    <meta name="_csrf_header" th:content="${_csrf.headerName}" />
    <title>Point of Sale</title>

    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/assets/images/favicon.ico}" />
    <link rel="stylesheet" th:href="@{/assets/css/backend-plugin.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/backend.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/fortawesome/fontawesome-free/css/all.min.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/line-awesome/dist/line-awesome/css/line-awesome.min.css}">
    <link rel="stylesheet" th:href="@{/assets/vendor/remixicon/fonts/remixicon.css}">

    <style>
        .image {
            position: absolute;
            bottom: auto;
            left: -9px;
            top: -9px;
            border-radius: 50%;
            height: 35px;
            width: 35px;
            text-align: center;
            font-size: 20px;
            line-height: 24px;
            cursor: pointer;
            border: 5px solid #fff;
            background-color: #fff;
        }
    </style>
</head>

<body>
<!-- loader Start -->
<div id="loading">
    <div id="loading-center">
    </div>
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header d-flex justify-content-between">
                    <div class="card-body p-0">
                        <div class="iq-edit-list usr-edit">
                            <ul class="iq-edit-profile d-flex nav nav-pills">
                                <li class="col-md-4 p-0">
                                    <a class="nav-link active" data-toggle="pill" href="#sales">
                                        Customer Information
                                    </a>
                                </li>
                                <li class="col-md-4 p-0">
                                    <a class="nav-link" data-toggle="pill" href="#customer-information">
                                        History Purchase
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="iq-edit-list-data">
                <div class="tab-content">
                    <!-- Order -->
                    <div class="tab-pane fade active show" id="sales" role="tabpanel">
                        <div class="row">
                            <div class="card col-12 col-md-7">
                                <div class="card-header d-flex justify-content-between">
                                    <div class="card-body p-0">
                                        <h4><strong>Order</strong></h4>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead class="">
                                            <tr class="bg-success">
                                                <th>Product</th>
                                                <th>Price</th>
                                                <th>Quantity</th>
                                                <th>Subtotal</th>
                                            </tr>
                                            </thead>
                                            <tbody id="">
                                            <tr th:each="orderItem : ${orderProduct.getOrderItems()}">
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <img class="img-fluid rounded avatar-80 mr-3 w- h-auto"
                                                             th:src="@{'data:image/png;base64,' + ${orderItem.product.getEncodedImage()}}"
                                                             alt="profile-pic">
                                                        <div th:text="${orderItem.getProduct().getName()}"></div>
                                                    </div>
                                                </td>
                                                <td th:text="'$'+${orderItem.getProduct().getRetailPrice()}"></td>
                                                <td th:text="'x'+${orderItem.getQuantity()}"></td>
                                                <td th:text="'$'+${orderItem.getQuantity() * orderItem.getProduct().getRetailPrice()}"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <div class="form-group row">
                                        <div class="col-sm-4"></div>
                                        <div class="col-sm-4">
                                            <h4><strong>Total</strong></h4>
                                        </div>
                                        <div class="col-sm-4">
                                            <h4 id="order-detail-total"><strong th:text="'$'+${orderProduct.getTotalAmount()}"></strong></h4>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-sm-4"></div>
                                        <div class="col-sm-4">
                                            <h4><strong>Cash</strong></h4>
                                        </div>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control"
                                                   id="cash-by-customer" name="cash"
                                                   placeholder="Enter Cash">
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-sm-4"></div>
                                        <div class="col-sm-4">
                                            <h4><strong>Change</strong></h4>
                                        </div>
                                        <div class="col-sm-4">
                                            <h4 id="change-for-customer"><strong></strong></h4>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-sm-6">
                                            <button type="button" id="printButton" class="btn btn-danger btn-block">Print Invoice</button>
                                        </div>
                                        <div class="col-sm-6">
                                            <form action="" method="get">
                                                <button type="button" id="complete-order"
                                                        class="btn btn-primary btn-block">Complete Order</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ======================================== Customer and Order ======================================== -->
                            <div class="col-6 col-md-5  blur-shadow shadow-showcase">
                                <!-- ======================================== Customer ======================================== -->
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between">
                                        <div class="header-title">
                                            <h4 class="card-title">Customer Details</h4>
                                        </div>
                                        <button type="button" class="btn btn-primary mt-2" data-toggle="modal"
                                                data-target="#enterCustomerModal">
                                            +
                                        </button>

                                        <!-- Model enter Customer -->
                                        <div class="modal fade" id="enterCustomerModal" tabindex="-1" role="dialog"
                                             aria-labelledby="enterCustomerTitle" aria-hidden="true">
                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="enterCustomerTitle">Customer
                                                        </h5>
                                                        <button type="button" class="close" data-dismiss="modal"
                                                                aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <form class="form-horizontal"  data-toggle="validator">
                                                            <div class="form-group row">
                                                                <label
                                                                        class="control-label col-sm-3 align-self-center"
                                                                        for="phoneInput">Phone:</label>
                                                                <div class="col-sm-9">
                                                                    <input type="text" class="form-control"
                                                                           id="phoneInput" name="phone"
                                                                           placeholder="Enter Customer's Phone">
                                                                </div>
                                                            </div>
                                                            <div class="form-group row">
                                                                <label
                                                                        class="control-label col-sm-3 align-self-center"
                                                                        for="nameInput">Name:</label>
                                                                <div class="col-sm-9">
                                                                    <input type="text" class="form-control"
                                                                           id="nameInput" name="name"
                                                                           placeholder="Enter  Customer's Name">
                                                                </div>
                                                            </div>
                                                            <div class="form-group row">
                                                                <label
                                                                        class="control-label col-sm-3 align-self-center"
                                                                        for="addressInput">Address:</label>
                                                                <div class="col-sm-9">
                                                                    <input type="text" class="form-control"
                                                                           id="addressInput" name="address"
                                                                           placeholder="Enter  Customer's Address">
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                    <div class="modal-footer">
<!--                                                        <button type="button" class="btn btn-secondary"-->
<!--                                                                data-dismiss="modal">Close</button>-->
                                                        <button type="reset"
                                                                class="btn btn-danger btn-enter-customer"
                                                                id="btn-reset-customer">Reset</button>
                                                        <button type="submit"
                                                                class="btn btn-primary btn-enter-customer"
                                                                id="btn-enter-customer">Add</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <form class="form-horizontal" action="">
                                            <div class="form-group row">
                                                <label class="control-label col-sm-3 align-self-center"
                                                       for="phone-display">Phone:</label>
                                                <div class="col-sm-9">
                                                    <input type="text" class="form-control phone-display" id="phone-display"
                                                           value="Customer's Phone" disabled>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label class="control-label col-sm-3 align-self-center"
                                                       for="name-display">Name:</label>
                                                <div class="col-sm-9">
                                                    <input type="text" class="form-control name-display" id="name-display"
                                                           value="Customer's Name" disabled>
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                                <label class="control-label col-sm-3 align-self-center"
                                                       for="address-display">Address:</label>
                                                <div class="col-sm-9">
                                                    <input type="text" class="form-control address-display" id="address-display"
                                                           value="Customer's Address" disabled>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <!-- ======================================== Order======================================== -->
<!--                                <div class="card">-->
<!--                                    <div class="card-header d-flex justify-content-between">-->
<!--                                        <div class="header-title">-->
<!--                                            <h4 class="card-title">Order Details</h4>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <div class="card-body">-->
<!--                                        <div class="table-responsive">-->
<!--                                            <table class="table">-->
<!--                                                <thead class="">-->
<!--                                                <tr class="bg-success">-->
<!--                                                    <th>Product</th>-->
<!--                                                    <th>Quantity</th>-->
<!--                                                    <th>Subtotal</th>-->
<!--                                                </tr>-->
<!--                                                </thead>-->
<!--                                                <tbody id="table-body-orders-cart">-->

<!--                                                </tbody>-->
<!--                                            </table>-->
<!--                                        </div>-->
<!--                                        <div class="form-group row">-->
<!--                                            <div class="col-sm-4"></div>-->
<!--                                            <div class="col-sm-4">-->
<!--                                                <h4><strong>Cash</strong></h4>-->
<!--                                            </div>-->
<!--                                            <div class="col-sm-4 text-right">-->
<!--                                                <h4 id="order-detail-cash"><strong>0</strong></h4>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                        <div class="form-group">-->
<!--                                            <button type="button" id="checkout"-->
<!--                                                    class="btn btn-primary btn-block">CheckOut</button>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
                            </div>
                        </div>
                    </div>
                    <!-- History Purchase -->
                    <div class="tab-pane fade " id="customer-information" role="tabpanel">
                        <div class="row">
<!--                            <div class="card col-sm-3">-->
<!--                                <div class="card-header d-flex justify-content-between">-->
<!--                                    <div class="iq-header-title">-->
<!--                                        <h4 class="card-title">Customer Information</h4>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div class="card-body">-->
<!--                                    <form>-->
<!--                                        <div class=" row align-items-center">-->
<!--                                            <div class="form-group col-sm-12">-->
<!--                                                <label for="name">FullName:</label>-->
<!--                                                <input readonly type="text" class="form-control name-display" id="name">-->
<!--                                            </div>-->
<!--                                            <div class="form-group col-sm-12">-->
<!--                                                <label for="phone">Phone:</label>-->
<!--                                                <input readonly type="text" class="form-control phone-display" id="phone">-->
<!--                                            </div>-->
<!--                                            <div class="form-group col-sm-12">-->
<!--                                                <label for="address">Address:</label>-->
<!--                                                <input readonly type="text" class="form-control address-display" id="address">-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </form>-->
<!--                                </div>-->
<!--                            </div>-->
                            <div class="card col-sm-12">
                                <div class="card-header d-flex justify-content-between">
                                    <div class="iq-header-title">
                                        <h4 class="card-title">History Purchase</h4>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="col-lg-12">
                                        <div class="table-responsive rounded mb-3">
                                            <table id="datatable" class="table mb-0 tbl-server-info">
                                                <thead class="bg-white text-uppercase">
                                                <tr class="ligth ligth-data">
                                                    <th>Order Id</th>
                                                    <th>Total Amount</th>
                                                    <th>Cash</th>
                                                    <th>Change</th>
                                                    <th>Date of Purchase</th>
                                                    <th>Product quantity</th>
                                                    <th>Action</th>
                                                </tr>
                                                </thead>
                                                <tbody id="table-body-orders" class="ligth-body">

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="createCustomer" class="alert alert-success d-inline position-fixed small"
     style="bottom: 20px; right: 20px">
    <strong></strong> has been created
</div>
<!-- Backend Bundle JavaScript -->
<script th:src="@{/assets/js/backend-bundle.min.js}"></script>

<!-- Table Tree view JavaScript -->
<script th:src="@{/assets/js/table-treeview.js}"></script>

<!-- Chart Custom JavaScript -->
<script th:src="@{/assets/js/customizer.js}"></script>

<!-- Chart Custom JavaScript -->
<script async th:src="@{/assets/js/chart-custom.js}"></script>

<!-- app JavaScript -->
<script th:src="@{/assets/js/app.js}"></script>
<script>
    function fetchCustomerData() {
        var phone = $('#phoneInput').val();

        var token = $("meta[name='_csrf']").attr("content");
        var header = $("meta[name='_csrf_header']").attr("content");
        $.ajax({
            type: 'POST',
            url: '/customers/find-by-phone',
            data: { phone: phone },
            beforeSend: function (xhr) {
                xhr.setRequestHeader(header, token);
            },
            success: function (data) {
                console.log(data)
                localStorage.setItem('data', JSON.stringify(data));
                displayCustomerInfo(data)
            },
            error: function () {
                notifyCreate(phone)
            }
        });
    }
    $('#phoneInput').on('change', function () {
        fetchCustomerData();
    });
    // Check if there's data in localStorage when the page loads
    document.addEventListener('DOMContentLoaded', function () {
        var sessesionData = localStorage.getItem('data');

        if (sessesionData) {
            var data = JSON.parse(sessesionData);
            displayCustomerInfo(data)
        }
        sessesionData = localStorage.getItem('dataOrder');

        if (sessesionData) {
            var dataOrder = JSON.parse(sessesionData);
            showProductOrder(dataOrder)
        }

    });
    // display information customer and history purchase
    function displayCustomerInfo(data){
        $('#nameInput').val(data.customer.name);
        $('#phoneInput').val(data.customer.phone);
        $('#addressInput').val(data.customer.address);

        $('.phone-display').val(data.customer.phone);
        $('.name-display').val(data.customer.name);
        $('.address-display').val(data.customer.address);

        var orderList = data.customer.orderProduct
        var tableBody = document.getElementById('table-body-orders');
        tableBody.innerHTML = ''

        orderList.forEach( (order) => {
            var newRow = document.createElement('tr');
            var createdAtDate = new Date(order.createdAt);

            var formattedDate = createdAtDate.toISOString().split('T')[0];
            var totalQuantity = order.orderItems.reduce((acc, item) => acc + item.quantity, 0);

            newRow.innerHTML = `
                                        <td>${order.id}</td>
                                        <td>${order.totalAmount}</td>
                                        <td>${order.cash}</td>
                                        <td>${order.cash - order.totalAmount}</td>
                                        <td>${formattedDate}</td>
                                        <td>${totalQuantity}</td>
                                        <td>
                                            <div class="d-flex align-items-center list-action">
                                                            <button type="button" class="btn btn-primary mt-2" data-toggle="modal" data-target=".bd-example-modal-xl"><i
                                                                    class="ri-eye-line mr-0"></i> View Details</button>
                                                             <div class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog" aria-hidden="true">
                                                                <div class="modal-dialog modal-xl">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <h5 class="modal-title">Order Detail</h5>
                                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                                <span aria-hidden="true">×</span>
                                                                            </button>
                                                                        </div>
                                                                        <div class="modal-body">
                                                                            <div class="col-lg-12">
                                                                                <div class="table-responsive rounded mb-3">
                                                                                    <table id="datatable" class="table mb-0 tbl-server-info">
                                                                                        <thead class="bg-white text-uppercase">
                                                                                        <tr class="ligth ligth-data">
                                                                                            <th>Id</th>
                                                                                            <th>Name Product</th>
                                                                                            <th>Price</th>
                                                                                            <th>Quantity</th>
                                                                                            <th>Subtotal</th>
                                                                                        </tr>
                                                                                        </thead>
                                                                                        <tbody class="ligth-body" id="${order.id}">

                                                                                        </tbody>
                                                                                    </table>

                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                            </div>
                                        </td>
                                        `;
            tableBody.appendChild(newRow);
            var modalTableBody = document.getElementById(`${order.id}`);
            order.orderItems.forEach(item => {
                var row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.id}</td>
                    <td>

                         <div class="d-flex align-items-center">
                                                <img  src="data:image/png;base64,${item.product.image}"
                                                    class="img-fluid rounded avatar-50 mr-3" alt="image">
                                                <div>${item.product.name}</div>
                                            </div>
                    </td>
                    <td>${item.product.retailPrice}</td>
                    <td>${item.quantity}</td>
                    <td>${item.quantity * item.product.retailPrice}</td>
                `;
                modalTableBody.appendChild(row);
            });
        })
    }
    // display information customer
    $(document).ready(function () {
        $('#btn-enter-customer').click(function () {
            var phone = $('#phoneInput').val();
            var name = $('#nameInput').val();
            var address = $('#addressInput').val();

            var token = $("meta[name='_csrf']").attr("content");
            var header = $("meta[name='_csrf_header']").attr("content");

            $.ajax({
                type: 'POST',
                url: '/customers/update-by-phone',
                data: { phone: phone, name:name, address:address},
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
                success: function (data) {
                    localStorage.setItem('data', JSON.stringify(data));
                    displayCustomerInfo(data)
                },
                error: function () {
                }
            });

            $('.phone-display').val(phone);
            $('.name-display').val(name);
            $('.address-display').val(address);

            $('#enterCustomerModal').modal('hide');
        });

        $('#btn-reset-customer').click(function () {
            $('#phoneInput').val('');
            $('#nameInput').val('');
            $('#addressInput').val('');
            localStorage.removeItem('data');
        })
    });
    function notifyCreate(phone) {
        $('#createCustomer strong').html(phone)
        $('#createCustomer').fadeTo(2000, 1)
        setTimeout(() => {
            $('#createCustomer').fadeTo(2000, 0)
        }, 4000);
    }

    $(window).on('load', () => {
        $('#createCustomer').fadeTo(10, 0);
    });
    //==========================================================Complete Order==========================================================

    $('#cash-by-customer').on('change', function () {
        let cashByCustomer = parseFloat($('#cash-by-customer').val());
        let orderTotal = parseInt($('#order-detail-total strong').text().replace(/\D/g, ''), 10);
        let change = cashByCustomer - orderTotal;
        let formattedChange = '$' + change;
        $('#change-for-customer strong').text(formattedChange);
    });

    // document.addEventListener("DOMContentLoaded", function() {
    //     const checkoutButton = document.querySelector('#complete-order');
    //     checkoutButton.addEventListener('click', function() {
    //         var localData = localStorage.getItem('dataOrder');
    //         var customerSession = localStorage.getItem('data');
    //
    //         let idValue =  window.location.href.split('?id=')[1];
    //         console.log(idValue )
    //         var cash = $('#cash-by-customer').val()
    //         if (localData !== null && customerSession !== null) {
    //
    //             var customer = JSON.parse(customerSession);
    //
    //             var token = $("meta[name='_csrf']").attr("content");
    //             var header = $("meta[name='_csrf_header']").attr("content");
    //
    //             var data = {
    //                 idValue: idValue,
    //                 cash: cash,
    //                 customer: customer.customer
    //             };
    //             console.log(JSON.stringify(data))
    //             $.ajax({
    //                 type: 'POST',
    //                 url: '/sales/complete-order',
    //                 data: JSON.stringify(data),
    //                 contentType: 'application/json',
    //                 beforeSend: function (xhr) {
    //                     xhr.setRequestHeader(header, token);
    //                 },
    //                 xhrFields: {
    //                     responseType: 'blob' // Set the expected response type to 'blob'
    //                 },
    //                 success: function(pdfData) {
    //                     const blob = new Blob([pdfData], { type: 'application/pdf' });
    //                     const url = URL.createObjectURL(blob);
    //
    //
    //                     // Open the print dialog for the PDF
    //                     const printWindow = window.open(url, '_blank');
    //                     if (printWindow) {
    //                         printWindow.onload = function() {
    //                             printWindow.print(); // Print the PDF
    //                         };
    //                     } else {
    //                         alert('Please enable pop-ups to print the invoice.');
    //                     }
    //                 },
    //
    //                 error: function () {
    //
    //                 }
    //             });
    //         }
    //
    //     })
    // })
    function completeOrder(){
        var customerSession = localStorage.getItem('data');

        let idValue =  window.location.href.split('?id=')[1];
        var cash = $('#cash-by-customer').val()
        if (customerSession !== null) {

            var customer = JSON.parse(customerSession);

            var token = $("meta[name='_csrf']").attr("content");
            var header = $("meta[name='_csrf_header']").attr("content");

            var data = {
                idValue: idValue,
                cash: cash,
                customer: customer.customer
            };
            $.ajax({
                type: 'POST',
                url: '/sales/complete-order',
                data: JSON.stringify(data),
                contentType: 'application/json',
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
                xhrFields: {
                    responseType: 'blob'
                },
                success: function(pdfData) {
                    localStorage.clear();
                    window.location.href = '/sales/sales-page';
                },
                error: function () {
                    console.log("Error")
                }
            });
        }

    }
    function printInvoice() {
        var customerSession = localStorage.getItem('data');

        let idValue =  window.location.href.split('?id=')[1];
        var cash = $('#cash-by-customer').val()
        if (customerSession !== null) {

            var customer = JSON.parse(customerSession);

            var token = $("meta[name='_csrf']").attr("content");
            var header = $("meta[name='_csrf_header']").attr("content");

            var data = {
                idValue: idValue,
                cash: cash,
                customer: customer.customer
            };
            $.ajax({
                type: 'POST',
                url: '/sales/complete-order',
                data: JSON.stringify(data),
                contentType: 'application/json',
                beforeSend: function (xhr) {
                    xhr.setRequestHeader(header, token);
                },
                xhrFields: {
                    responseType: 'blob'
                },
                success: function(pdfData) {
                    const blob = new Blob([pdfData], { type: 'application/pdf' });
                    const url = URL.createObjectURL(blob);

                    const iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.src = url;
                    document.body.appendChild(iframe);

                    iframe.onload = function() {
                        window.addEventListener('afterprint', function() {
                            window.location.href = '/sales/sales-page';
                        });

                        iframe.contentWindow.print();
                    };
                },
                error: function () {
                    console.log("Error")
                }
            });
        }
    }
    document.getElementById('printButton').addEventListener('click', printInvoice);
    document.getElementById('complete-order').addEventListener('click', completeOrder);
</script>
</body>
</html>